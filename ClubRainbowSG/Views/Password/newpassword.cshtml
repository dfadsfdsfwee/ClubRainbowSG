@if (ViewBag.encrypted == ViewBag.checktoken && !string.IsNullOrEmpty(ViewBag.encrypted) && !string.IsNullOrEmpty(ViewBag.checktoken))
        {
            <div id="form-container">
<form asp-action="newpassword" asp-controller="Password" method="post" class="form-group">
    <div class ="form-div-groups">
        <h3>New password</h3>
        <h2>Create your new password , so you can login to your account </h2>
        
        
            
        
    </div>
    <div class="form-div-groups">
        <input type="hidden" value=@ViewBag.email id="email" name="email" />
        <label for="email">New Password</label><br>
        <input type="password" id="newPW" name="newPW" class="form-container" placeholder="New Password" />
    </div>
    <div class="form-div-groups">
        <label for="email">Confirm Password</label><br>
        <input type="password" id="confPW" name="confPW" class="form-container" placeholder="Repeat Password" />
    </div>
    @if (ViewData.ModelState.ContainsKey("matchPassword"))
    {
        <span class="text-danger">@ViewData.ModelState["matchPassword"].Errors[0].ErrorMessage</span>
    }
    <button type="submit" class="btn">Submit</button>
</form></div>
}
        else
        {
    <a class="btn" href="@Url.Action("ResetPassword", "Password")">new password</a>
    <p>@ViewBag.encrypted</p>
    <p>1</p>
    <p>@ViewBag.checktoken</p>
        }

@* <script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector("form");
        form.addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent page reload

            const formData = new FormData(form);
            fetch(form.action, {
                method: form.method,
                body: formData
            })
                .then(response => response.text())
                .then(html => {
                    document.querySelector("#form-container").innerHTML = html; // Replace form with updated content
                })
                .catch(error => {
                    console.error("Error:", error);
                });
        });
    });

</script> *@
