<form method="post" action="/Home/eventHome" class="form-group">

    <h1>Welcome, John Doe</h1>

    <h2>Choose an Event</h2>

    @if (ViewBag.PSCNames is List<string> pscNames && pscNames.Any())
    {
        <select id="pcsDropdown" name="pcsDropdown" class="form-control" onchange="showEventDetails()">
            <option value="">Select an event</option>
            @foreach (var pcsName in pscNames)
            {
                if (pcsName == ViewBag.EventName)
                {
                    <option value="@pcsName" selected>@pcsName</option>

                }
                else
                {
                    <option value="@pcsName">@pcsName</option>
                }
            }
        </select>
    }
    else
    {
        <p>No PCS names available.</p>
    }
    
  
    <br />
    <div id="eventDetails" style="display: @(string.IsNullOrEmpty(ViewBag.EventName) ? "none" : "block");">
    <h1 id="eventNameHeader">@ViewBag.EventName</h1>
    
    <br />
        <div class="HeroImg">
            <img src="~/images/event1.jpg" alt="Home">
      </div>
     <h1>Type</h1>
    <p>
        @ViewBag.Type
    </p>
    <h1>About This Event</h1>
        <p>@ViewBag.Description</p>
 
    
    <p></p>
    <h1>Start Date</h1>
            <p id="startDate">@ViewBag.StartDateTime</p>
    <h1>End Date</h1>
            <p id="endDate">@ViewBag.EndDateTime</p>
    <h1>Venue</h1>
    <p>@ViewBag.Location @ViewBag.PscCode</p>
    <h1>Attire</h1>
    <p>@ViewBag.Attire</p>
    <hr>
    <!-- FILL UP FORM -->
    
    <h1>People</h1>
    <div class="checkbox-group">
        <label>
            Option 1
            <input type="checkbox" name="option" value="Option 1">
            <span class="custom-checkbox"></span>
        </label>
        <label>
            Option 2
            <input type="checkbox" name="option" value="Option 2">
            <span class="custom-checkbox"></span>
        </label>
        <label>
            Option 3
            <input type="checkbox" name="option" value="Option 3">
            <span class="custom-checkbox"></span>
        </label>
        <label>
            Option 4
            <input type="checkbox" name="option" value="Option 4">
            <span class="custom-checkbox"></span>
        </label>
        <button class="btn-green" type="submit">Submit</button>
    </div>
        </div>
</form>
<script>
   
    document.getElementById('pcsDropdown').addEventListener('change', function () {
        var selectedEvent = this.value;
       
        this.form.submit();
        
        if (selectedEvent) {
            eventHeader.textContent = '' + selectedEvent;
        } else {
            eventHeader.textContent = 'Event: Name of the event';
        }
    });


    function showEventDetails() {
        var selectedEvent = document.getElementById('pcsDropdown').value;
        var eventDetails = document.getElementById('eventDetails');
        var eventHeader = document.getElementById('eventNameHeader');

       
        if (selectedEvent) {
            eventDetails.style.display = 'block';
            eventHeader.textContent = selectedEvent;
        } else {
            eventDetails.style.display = 'none';
            eventHeader.textContent = 'Event: Name of the event';
        }
    }
</script>
